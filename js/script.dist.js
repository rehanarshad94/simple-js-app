let pokemonListRepository=function(){let d=[];function a(){return d}function b(a){d.push(a)}function c(a){pokemonListRepository.loadDetails(a).then(function(){e(a)})}function e(a){let b=$(".modal-body"),c=$(".modal-title");$(".modal-header"),b.empty(),c.empty();let e=$("<h3>"+a.name+"<h3>"),d=$('<img class="modal-img" width=30%>');d.attr("src",a.imageUrl);let f=$("<p>Height: "+a.height+"<p>"),g=$("<p>Weight: "+a.weight+"<p>"),h=$("<p>Type: "+a.types+"<p>"),i=$("<p>Abilities: "+a.ability+"<p>");c.append(e),b.append(d),b.append(f),b.append(g),b.append(h),b.append(i)}return{getAll:a,add:b,addListItem:function(d){let e=document.querySelector(".list-group"),b=document.createElement("li");b.classList.add("group-list-item");let a=document.createElement("button");a.innerText=d.name,a.classList.add("button"),a.classList.add("btn","btn-primary","btn-lg"),a.addEventListener("click",function(a){c(d)}),a.setAttribute("data-target","#pokemonModal"),a.setAttribute("data-toggle","modal"),b.appendChild(a),e.appendChild(b)},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){b({name:a.name,detailsUrl:a.url})})}).catch(function(a){console.log(a)})},loadDetails:function(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.front_default,a.height=b.height,a.ability=b.abilities.map(a=>a.ability.name).join(", "),a.weight=b.weight,a.type=a.types=b.types.map(a=>a.type.name).join(", ")}).catch(function(a){console.log(a)})},showDetails:c}}();function findPokemon(a){pokemonListRepository.getAll().forEach(function(b){b.name.indexOf(a)> -1&&pokemonListRepository.addListItem(b)})}let searchForm=document.querySelector("#search-form");searchForm.addEventListener("keyup",function(a){document.getElementById("list-group1").innerHTML="",findPokemon(searchForm.value)}),pokemonListRepository.loadList().then(function(){pokemonListRepository.getAll().forEach(function(a){pokemonListRepository.addListItem(a)})})